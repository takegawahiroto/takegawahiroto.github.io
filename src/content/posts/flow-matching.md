# Flow Matchingの調査

最近機械学習で使われているFlow Matchingについて調査する.


##　前提となる数学的な概念.


| 定義(フロー) |
| --- |
| $M$を$C^{\infty}$  級多様体とする。 $C^{\infty}$級写像$F: M \times \mathbb{R} \to M$であって次の条件を満たすものを$1$-パラメータ変換群やフロー(flow)という。<br> (i) 任意の$t \in \mathbb{R}$に対して制限$F_t: M \to M$は$C^{\infty}$級同相である。 <br> (ii) $F_0 = \mathrm{id}_M$である。 <br> (iii) 任意の$t_1, t_2 \in \mathbb{R}$に対して$F_{t_1 + t_2} = F_{t_1} \circ F_{t_2}$が成立する。 <br> また、単に(i), (ii)を満たすものを時間に依存するフロー time-dependent flow という。混同の恐れがなければ単にフローともいうことにする。 |


| 定義(ベクトル場) |
| --- |
|$M$を$C^{\infty}$  級多様体とする。 $C^{\infty}$級写像$X: M \to TM$であって次の条件を満たすものをベクトル場という。<br> (i) 任意の$p \in M$に対して$X_p \in T_p M$が定まっている。 <br> (ii) 任意の$p \in M$に対して$X$は滑らかである.すなわち.座標近傍系$(U, \phi)$を取った時に局所自明化を通じて,$C^{\infty}$級写像$X{\mid}_{T_UM} \circ \phi: \phi^{-1}(U) \to \mathbb{R}^n$が得られる. |


ざっくりしたお気持ちとしては、各点ごとに向きを表すベクトルが定義されていて、点を動かした時に滑らかに変化するものがベクトル場である.


フローとベクトル場の関係.

- フローと時間変化するベクトル場(時間でパラメータ付けされたベクトル場)は一対一対応になっている。
- フローは時間変化を表すと思うと、それにしたがってベクトルが変化する場といてベクトル場を与えられるし、逆にベクトル場があるとその変化量からフローを定義することができる.


そうすると何が起きるか
フローを微分するとことで時刻$t$にパラメトライズされたベクトル場が得られる.

つまり、時間毎にパラメータづけされたベクトル場に対する微分方程式の解がフローになっている.


## 参考文献
[フローマッチングの数学的な基礎](https://zenn.dev/fuwamoekissaten/articles/f01db58571450a)
